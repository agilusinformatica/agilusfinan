@using AgilusFinan.Domain.Entities
@model IEnumerable<AgilusFinan.Domain.Entities.Categoria>

@{
    ViewBag.Title = "Categoria";
}

<h2>Categoria</h2>

<p>
    @Html.ActionLink("Adicionar", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Cor)
        </th>
        <th></th>
    </tr>

@foreach (var item in ViewBag.ListaIdentada)
{
    <tr>
        <td>
            @item.Value
        </td>
        <td>
            @{
                int cor = Model.Where(x => x.Id == item.Key).First().Cor;
            }
            <div id="selectedcolor" style="background-color: #@cor.ToString("X").PadLeft(6,'0'); width: 100px; height: 20px;"></div>
        </td>
        <td>
            @Html.ActionLink("Alterar", "Edit", new { id=item.Key }) |
            @Html.ActionLink("Excluir", "Delete", new {id = item.Key}) |
            @Html.ActionLink("Incluir Filha", "CreateFilha", new { CategoriaPaiId = item.Key, direcao = Model.Where(x => x.Id  == item.Key).First().Direcao}) 

        </td>
    </tr>
}

</table>
